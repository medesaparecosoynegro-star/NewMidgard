# ==============================================================================
#                        CONFIGURA√á√ÉO DE COMBATE - MIDGARD RPG
# ==============================================================================
# Este arquivo controla todas as mec√¢nicas de combate, indicadores de dano,
# stamina, f√≥rmulas de defesa e intera√ß√µes elementais.
#
# Dica: Use '&' ou '¬ß' para c√≥digos de cores, ou tags do MiniMessage <red>, <bold>.
# ==============================================================================

# ==============================================================================
#                      SISTEMA DE ESCALONAMENTO DE DANO
# ==============================================================================
# Aqui voc√™ define a f√≥rmula matem√°tica usada para calcular o dano.
# Existem dois modos dispon√≠veis: "ADDITIVE" e "MULTIPLICATIVE".
#
# ------------------------------------------------------------------------------
# MODO 1: ADDITIVE (Cl√°ssico / Simples)
# Neste modo, os atributos d√£o dano FIXO.
# F√≥rmula: DanoFinal = DanoArma + (For√ßa * Fator) + B√¥nus
#
# Exemplo (Level 1, 10 For√ßa, Fator 0.5):
# Dano = 1 (M√£o) + (10 * 0.5) = 6 de Dano.
#
# Pr√≥s: Simples de entender, bom para servidores onde n√∫meros s√£o baixos e controlados.
# Contras: Um jogador level 1 pode ter muito dano inicial se n√£o balanceado.
# ------------------------------------------------------------------------------
# MODO 2: MULTIPLICATIVE (RPG Moderno / Wynncraft / RuneScape)
# Neste modo, os atributos d√£o PORCENTAGEM de b√¥nus sobre o dano da arma/base.
# F√≥rmula: DanoFinal = (DanoArma + DanoBase) * (1 + (For√ßa * Multiplicador))
#
# Exemplo (Level 1, 10 For√ßa, Multiplicador 0.01 (1%)):
# Dano = 1 (M√£o) * (1 + (10 * 0.01)) = 1 * 1.10 = 1.1 de Dano.
#
# Exemplo (Level 50, Arma 100 Dano, 500 For√ßa):
# Dano = 100 * (1 + (500 * 0.01)) = 100 * 6.0 = 600 de Dano.
#
# Pr√≥s: Escalonamento suave e consistente. O dano depende mais da arma equipada.
# Contras: Requer balanceamento das armas para que o jogador sinta evolu√ß√£o.
# ------------------------------------------------------------------------------

formulas:
  # Escolha o modo de c√°lculo: "ADDITIVE" ou "MULTIPLICATIVE"
  damage-mode: "MULTIPLICATIVE"
  
  # Dano base da m√£o vazia (para quem est√° sem arma)
  base-hand-damage: 1.0
  
  multipliers:
    # Apenas para modo MULTIPLICATIVE
    # Quanto de % de dano cada ponto de atributo d√°.
    # 0.01 = 1% por ponto. 100 For√ßa = +100% (2x) dano.
    strength: 0.01       # 1% For√ßa -> Dano F√≠sico
    intelligence: 0.01   # 1% Intelig√™ncia -> Dano M√°gico

  # Divisor da f√≥rmula de defesa (Usado se o scaling estiver desativado).
  # F√≥rmula: DanoReduzido = Dano * (1 - (Defesa / (Defesa + Divisor)))
  defense-divisor: 100.0

  # Escalonamento de Defesa por N√≠vel (Recomendado: true)
  # Faz com que a defesa necess√°ria para atingir a mesma redu√ß√£o aumente com o n√≠vel do atacante.
  # F√≥rmula: Divisor = BaseDivisor * NivelAtacante
  defense-scaling:
    enabled: true
    base-divisor: 20.0
    
  # Limite m√°ximo de redu√ß√£o de dano (0.80 = 80%)
  max-mitigation: 0.80

# ==============================================================================
#                        ESCALONAMENTO DE ATRIBUTOS
# ==============================================================================
# Define o quanto cada atributo prim√°rio (Stats) influencia nos secund√°rios (Sub-stats).
# Funciona tanto no modo Additive quanto Multiplicative (exceto onde notado).
scaling:
  strength:
    # No modo ADDITIVE: +0.5 Dano por ponto.
    # No modo MULTIPLICATIVE: Este valor √© IGNORADO (usa o multipliers.strength acima).
    physical-damage: 0.5 
    
  intelligence:
    mana: 1.0           # 1 Int = +1 Mana
    
    # No modo ADDITIVE: +1.0 Dano M√°gico por ponto.
    # No modo MULTIPLICATIVE: IGNORADO (usa multipliers.intelligence).
    magic-damage: 1.0   
    
    mana-regen: 0.1     # 10 Int = +1 Regen Mana
    
  dexterity:
    crit-chance: 0.2    # 10 Dex = +2% Cr√≠tico
    
  agility:
    speed: 0.1          # 10 Agi = +0.001 Velocidade (aprox +1%)
    dodge: 0.2          # 10 Agi = +2% Esquiva
    
  vitality:
    health: 5.0         # 1 Vit = +5 Vida
    defense: 1.0        # 1 Vit = +1 Defesa

damage-indicator:
  # Define se os indicadores de dano (n√∫meros flutuantes) devem aparecer.
  enabled: true
  
  # Tempo que o indicador fica na tela (em ticks). 20 ticks = 1 segundo.
  # Recomendado: 18 (0.9s) para um efeito r√°pido e fluido.
  duration-ticks: 18
  
  # Cor de fundo do indicador (Hex ARGB).
  # Formato: #AARRGGBB (Alpha, Red, Green, Blue)
  # Exemplo: #C0000000 (Preto com 75% de opacidade)
  # Use #00000000 para totalmente transparente.
  background-color: "#80000000"
  
  # Template da mensagem. Vari√°veis: %icons%, %color%, %damage%
  template: "%icons%   %color%%damage%"
  
  # Casas decimais para o valor do dano.
  decimals: 1
  
  # F√≠sica do indicador
  gravity: 0.04
  initial-velocity: 0.25
  
  format:
    # Cor/Formata√ß√£o para dano normal.
    normal: "<gray>"
    
    # Cor/Formata√ß√£o para dano f√≠sico.
    physical: "<red>"

    # Cor/Formata√ß√£o para dano cr√≠tico.
    critical: "<red><bold>"
    
    # Formata√ß√£o para outros tipos de dano
    magical: "<blue>"
    projectile: "<green>"
    environment: "<dark_green>"
    true: "<white>"
    
    # Cores para danos elementais
    fire: "<red>"
    ice: "<aqua>"
    light: "<yellow>"
    darkness: "<dark_purple>"
    divine: "<gold>"
    
  icon:
    # √çcone que aparece antes do n√∫mero n√£o dano cr√≠tico.
    critical: ""
    
    # √çcone exibido para quando o jogador usa uma arma.
    weapon: "üó°"
    
    # √çcones de tipos de dano
    physical: "‚úò"
    projectile: "‚û∂"
    magical: "‚ú©"
    environment: "üå≤"
    true: "üõ°"
    
    # √çcones para danos elementais
    fire: "üî•"
    ice: "‚ùÑ"
    light: "‚ö°"
    darkness: "‚ò†"
    divine: "‚òÄ"

combat-tag:
  # Tempo que o jogador fica "em combate" ap√≥s bater ou apanhar.
  # Durante este tempo, a regenera√ß√£o de vida e mana √© pausada.
  duration-seconds: 10

stamina:
  # Quantidade de stamina drenada a cada verifica√ß√£o enquanto corre.
  sprint-drain-per-check: 2.0
  
  # Intervalo de verifica√ß√£o da stamina (em ticks).
  # 5 ticks = 4 verifica√ß√µes por segundo.
  # Dreno total por segundo = (20 / check-interval) * sprint-drain
  # Exemplo: (20 / 5) * 2.0 = 8.0 de stamina por segundo.
  check-interval-ticks: 5

elemental-interactions:
  # Ativa o sistema de fraquezas e resist√™ncias elementais
  enabled: true
  
  # Mapa de Multiplicadores (Atacante -> V√≠tima)
  # Se Fire ataca Ice -> Dano * 1.5 (50% a mais)
  fire:
    ice: 1.5
  
  ice:
    fire: 1.5
    
  light:
    darkness: 1.5
    
  darkness:
    light: 1.5
    
  divine:
    undead: 2.0     # Dano Dobrado contra mortos-vivos
    darkness: 1.5

level:
  # N√≠vel m√°ximo do jogador
  max-level: 100
  
  # XP base necess√°ria para o n√≠vel 1 -> 2
  base-xp: 100.0
  
  # Crescimento da curva de XP
  linear-xp: 15.0
  exponential-xp: 1.1

  # XP padr√£o ao matar um mob que n√£o tem configura√ß√£o espec√≠fica
  default-kill-xp: 10.0
  # Mitiga√ß√£o = Defesa / (Defesa + Divisor)
  defense-scaling:
    enabled: true
    base-divisor: 20.0 # N√≠vel 1 = Divisor 20. N√≠vel 100 = Divisor 2000.

  # Limite M√°ximo de Mitiga√ß√£o (Hard Cap)
  # Impede que jogadores fiquem imortais (100% redu√ß√£o).
  # 0.80 = 80% de redu√ß√£o m√°xima.
  max-mitigation: 0.80

# ==============================================================================
#                        INTERA√á√ïES ELEMENTAIS
# ==============================================================================
# Define como os elementos interagem entre si.
# O formato √©: atacante -> v√≠tima: multiplicador
#
# Exemplo:
# fire:
#   ice: 1.5  -> Fogo causa 150% de dano em Gelo (Fraqueza)
#   water: 0.5 -> Fogo causa 50% de dano em √Ågua (Resist√™ncia)
#
# Se uma intera√ß√£o n√£o estiver listada, o multiplicador padr√£o √© 1.0.
# ==============================================================================
elemental-interactions:
  # Define se o sistema de fraquezas e resist√™ncias elementais est√° ativo.
  # Se false, todos os elementos causar√£o dano normal (1.0x), ignorando a tabela abaixo.
  enabled: true

  fire:
    ice: 1.5      # Fogo derrete Gelo (Dano aumentado)
    nature: 1.2   # Fogo queima Natureza (Leve vantagem)
    water: 0.5    # Fogo √© fraco contra √Ågua (Dano reduzido)
  
  ice:
    fire: 0.5     # Gelo derrete n√£o Fogo (Dano reduzido)
    nature: 1.2   # Gelo congela Natureza (Leve vantagem)
    water: 0.8    # Gelo congela √Ågua (Leve desvantagem)

  light:
    darkness: 2.0 # Luz √© super efetiva contra Trevas (Dano dobrado)
    divine: 0.5   # Luz n√£o afeta muito o Divino

  darkness:
    light: 0.5    # Trevas s√£o dissipadas pela Luz (Dano reduzido)
    divine: 0.2   # Trevas s√£o muito fracas contra Divino
    human: 1.2    # Trevas corrompem Humanos

  divine:
    darkness: 2.5 # Divino purifica Trevas (Dano massivo)
    undead: 2.0   # Divino purifica Mortos-vivos

level:
  # ============================================================================
  #                        SISTEMA DE PROGRESS√ÉO E XP
  # ============================================================================
  # Este sistema controla como os jogadores evoluem e ganham experi√™ncia.
  # Diferente de RPGs simples, aqui temos conceitos de "Risco vs Recompensa",
  # "Sorte (RNG)" e "Escalonamento Din√¢mico".
  
  # N√≠vel m√°ximo que um jogador pode alcan√ßar.
  max-level: 100
  
  # ----------------------------------------------------------------------------
  # 1. CURVA DE EVOLU√á√ÉO (XP NECESS√ÅRIO)
  # ----------------------------------------------------------------------------
  # Define quanto XP o jogador precisa para passar de n√≠vel.
  # A f√≥rmula usada cria uma curva suave no in√≠cio e √≠ngreme no final.
  # F√≥rmula: XP_Necessario = Base + (N√≠vel * Linear) * (Exponencial ^ N√≠vel)
  requirements:
    base-xp: 150.0        # Valor inicial (N√≠vel 1->2)
    linear-growth: 25.0   # Adiciona um valor fixo a cada n√≠vel (Crescimento suave)
    exponential-growth: 1.08 # Multiplicador composto (Crescimento r√°pido nos n√≠veis altos)
                             # CUIDADO: Valores acima de 1.15 tornam o jogo imposs√≠vel r√°pido.

  # ----------------------------------------------------------------------------
  # 2. MEC√ÇNICA DE GANHO DE XP (MATAR MOBS)
  # ----------------------------------------------------------------------------
  # Aqui definimos a l√≥gica complexa de quanto XP um mob deve dar.
  xp-gain:
    # Valor base se o mob n√£o tiver um XP espec√≠fico definido.
    default-base: 20.0
    
    # Mobs com XP Especial
    # Voc√™ pode definir valores fixos para mobs vanilla aqui.
    # Para MythicMobs, use o drop: "- midgard-xp{amount=500} 1 1" no arquivo do mob.
    mobs:
      ZOMBIE: 25.0
      SKELETON: 30.0
      ENDER_DRAGON: 15000.0
      WITHER: 10000.0
    
    # --- [ A. FATOR SORTE (RNG) ] ---------------------------------------------
    # Adiciona aleatoriedade para que o grind n√£o seja mon√≥tono.
    # O XP final ser√° multiplicado por um valor aleat√≥rio entre min e max.
    variance:
      enabled: true
      min-factor: 0.80    # Azar: Ganha apenas 80% do XP original.
      max-factor: 1.30    # Sorte: Ganha 130% (Cr√≠tico de XP).

    # --- [ B. ESCALONAMENTO POR N√çVEL DO MOB ] --------------------------------
    # Mobs de n√≠vel alto devem dar mais XP naturalmente.
    # O sistema tenta ler o n√≠vel do mob do nome (ex: "[Lv. 10] Zumbi").
    scaling:
      mob-level-impact: true
      # B√¥nus fixo por n√≠vel do mob.
      # Exemplo: Mob N√≠vel 10 ganha +50 XP base (10 * 5.0).
      mob-level-multiplier: 5.0

    # --- [ C. SISTEMA DE DISPARIDADE (GAP LEVEL) ] ----------------------------
    # A mec√¢nica mais importante para balanceamento.
    # Penaliza quem mata mobs fracos e premia quem enfrenta desafios.
    disparity:
      enabled: true
      
      # PENALIDADE (Anti-Farm de N√≠vel Baixo)
      # Impede que jogadores fortes fiquem farmando na √°rea inicial.
      penalty:
        threshold: 5         # Diferen√ßa de n√≠veis permitida sem penalidade.
        reduction: 0.15      # -15% XP para cada n√≠vel de diferen√ßa extra.
        min-cap: 0.05        # O jogador sempre ganhar√° pelo menos 5% (nunca 0).

      # B√îNUS (Underdog / Desafio)
      # Recompensa jogadores que matam mobs mais fortes que eles.
      bonus:
        threshold: 0         # A partir de qual diferen√ßa o b√¥nus come√ßa.
        increment: 0.08      # +8% XP para cada n√≠vel que o mob for superior.
        max-cap: 2.50        # Limite m√°ximo: 2.5x o XP original (evita abuso).
